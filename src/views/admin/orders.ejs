

<div class="min-h-screen bg-black text-white p-4 md:p-6 lg:p-8 overflow-y-auto">
  <div class="max-w-7xl mx-auto">

    <!-- HEADER -->
      <!-- HEADER -->
<div class="bg-black text-white rounded-lg p-3 sm:p-4 mb-6 flex flex-col gap-3 sm:gap-4 border border-white/40">
  <h1 class="text-xl sm:text-2xl font-bold">Orders</h1>
  
  <div class="flex flex-col sm:flex-row gap-3 w-full">
    <!-- SEARCH INPUT -->
    <div class="relative flex-1 min-w-0">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </div>
  
      <input 
        type="search"
        id="searchInput"
        placeholder="Search orders..."
        class="w-full pl-10 pr-4 py-2 bg-gray-800/50 rounded-lg border border-white/20 focus:outline-none transition duration-200"
      >
    </div>
  
    <!-- FILTERS ROW -->
    <div class="flex flex-wrap sm:flex-nowrap gap-2 sm:gap-3">
      <!-- FILTER DROPDOWN -->
      <select
        id="paymentFilter"
        class="flex-1 sm:flex-none bg-gray-800/50 text-white px-3 sm:px-4 py-2 rounded-lg border border-white/20 focus:outline-none min-w-0"
      >
        <option value="">Payment</option>
        <option value="razorpay">razorpay</option>
        <option value="wallet">wallet</option>
        <option value="cod">cod</option>
      </select>
      
      <select
        id="statusFilter"
        class="flex-1 sm:flex-none bg-gray-800/50 text-white px-3 sm:px-4 py-2 rounded-lg border border-white/20 focus:outline-none min-w-0"
      >
        <option value="">Status</option>
        <option value="pending">pending</option>
        <option value="processing">processing</option>
        <option value="delivered">delivered</option>
        <option value="returned">returned</option>
      </select>
      
      <a href="/admin/orders" class="flex-shrink-0 bg-gray-800/50 text-white px-3 sm:px-4 py-2 rounded-lg border border-white/20 cursor-pointer focus:outline-none hover:bg-black text-center">
        Reset
      </a>
    </div>
  </div>
</div>




    <!-- ================== DESKTOP TABLE (md and above) ================== -->
    <div class="hidden md:block overflow-y-auto">
      <div class="bg-black rounded-xl border border-gray-800 overflow-x-auto text-white w-full">

        <table class="w-full border-collapse min-w-[900px]">

          <thead>
            <tr class="border-b border-gray-800 text-sm sm:text-base">
              <th class="px-4 sm:px-6 py-4 text-left">NO</th>
              <th class="px-4 sm:px-6 py-4 text-left">Order ID</th>
              <th class="px-4 sm:px-6 py-4 text-left">User Name</th>
              <th class="px-4 sm:px-6 py-4 text-left">Date</th>
              <th class="px-4 sm:px-6 py-4 text-left">Amount</th>
              <th class="px-4 sm:px-6 py-4 text-left">Payment</th>
              <th class="px-4 sm:px-6 py-4 text-left">Status</th>
              <th class="px-4 sm:px-6 py-4 text-left">Actions</th>
            </tr>
          </thead>

          <tbody id="ordersContainer"  class=" text-sm sm:text-base">

            <% orders.forEach((order,index)=>{ %>
            <tr class="border-b border-gray-800 hover:bg-[#222] transition"
                style="animation: slideIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; animation-delay:<%= index * 0.1 %>s; opacity:0;">

              <td class="px-4 sm:px-6 py-4"><%= index+1 %></td>

              <td class="px-4 sm:px-6 py-4 font-semibold"><%= order?.orderNumber %></td>

              <td class="px-4 sm:px-6 py-4"><%= order?.userId?.firstName %></td>

              <td class="px-4 sm:px-6 py-4 text-gray-300">
                <%= new Date(order.createdAt).toLocaleDateString('en-IN') %>
              </td>

              <td class="px-4 sm:px-6 py-4">₹ <%= order?.total %></td>

              <td class="px-4 sm:px-6 py-4">
                <span class="bg-gray-100 text-black px-3 py-1 rounded-full text-xs">
                  <%= order?.payment.method %>
                </span>
              </td>

              <td class="px-4 sm:px-6 py-4">
                <span class="bg-gray-100 text-black px-3 py-1 rounded-full text-xs">
                  <%= order?.orderStatus %>
                </span>
              </td>

              <td class="px-4 sm:px-6 py-4">
                <button onclick="orderDetails('<%= order?._id %>')" 
                  class="px-3 py-1 bg-white text-black rounded-lg text-xs font-semibold hover:bg-gray-200 transition">
                  View
                </button>
              </td>

            </tr>
            <% }) %>

          </tbody>
        </table>
      </div>
    </div>



    <!-- ================== MOBILE CARDS (below md) ================== -->
    <div id="ordersContainerMobile" class=" md:hidden space-y-4 mt-6">
      <% orders.forEach((order,index)=>{ %>
      <div 
        class="bg-black border border-white/30 rounded-xl p-4 space-y-3 transform transition-all duration-500 hover:scale-[1.01]"
        style="animation: slideIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; animation-delay:<%=index*0.1%>s; opacity:0; transform:translateY(20px);">

        <div class="flex justify-between items-center text-gray-300 text-sm">
          <span>#<%= index+1 %></span>
          <span><%= new Date(order.createdAt).toLocaleDateString('en-IN')%></span>
        </div>

        <div class="text-lg font-semibold text-white">
          Order: <%= order?.orderNumber %>
        </div>

        <div class="text-gray-400">
          User: <span class="text-white"><%= order?.userId?.firstName %></span>
        </div>

        <div class="text-gray-400">
          Amount:
          <span class="text-white font-semibold">₹ <%= order?.total %></span>
        </div>

        <div class="flex items-center gap-2 mt-1">
          <span class="px-3 py-1 bg-gray-100 text-black rounded-xl text-xs">
            <%= order?.payment.method %>
          </span>

          <span class="px-3 py-1 bg-gray-100 text-black rounded-xl text-xs">
            <%= order?.orderStatus %>
          </span>
        </div>

        <button onclick="orderDetails('<%= order?._id %>')"
          class="w-full bg-white text-black py-2 rounded-lg font-semibold mt-2">
          View Details
        </button>

      </div>
      <% }) %>
    </div>



    <%-include('./partials/pagination.ejs') %>

  </div>
</div>


<style>
  @keyframes slideIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>

<script src="/js/admin/orderScript.js"></script>
